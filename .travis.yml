language: python
python:
- '3.5'
- '3.6'
- '3.7'
- '3.8'
env:
  global:
    secure: ICojW5AIsLdkrWNAwPOW6c3hh4GN316riJ4kL13FuHkp7OfAPktPZ5hc9ksyWFSRP9nY9eAjrBSO9NJKz4ONLPgc5PjTAHjKRwH9KcqR9HqqxyPCq4X0ejzqnpkhyul9u69VZIOO0sm95Fu5N8/p8oDod/z9TI7srkuymT++b1swzHY01KdoSYAvgKtxSNFyeWFiQhNAbmxSWIBD/sHGCWxgGlwE+F9Q/pseJBuekVnfna/zyE50ebsuVGKrJwtz2ithNB+iMtsuPwnNqY1D0Bo2udxRNLhNP/54YuOqwYHsdFbAMdaCNt+n3IGVHA9dihqQU0Hg3pxoKOyRuNbd32lYpU/Apz7Fn4itR8zw9rXPbcsoqzW49RqMGuxATDAG8p/O76E3C9/+DNTI/rF6+Ja39+UKBhozo7KXQUu3niOLCqEQDESlMfhk4dnpwFD0dP4lBmvipVsDqAckG2xkNpuUuS4grDZ3Xa9YrQFcruZF/0FVCsdPHJ4cztl6ZJxKVHpqTnwk519T4vgWohY80xlYsJNyKDQoWS4IBtRILIBIa62GlTm7l4Clndl1CGyHcyN/updc5ssfI0Lb5mRbhAlYEnG8oNygbLHXcRANSO7oooKBwoNX9PQ/oQ5csgTm5jqLENiUJ8uTn8sEt1EWmrSFtXdHOhNN4OhAs2MH9Ss=
before_install:
- openssl aes-256-cbc -k $KEY -in aws.tar.gz.enc -out aws.tar.gz -d
- tar -xvf aws.tar.gz -C $HOME/
install:
- pip install -r requirements.txt
- pip install -r requirements-dev.txt
- pip install -r tests/requirements.txt
- python setup.py install
script:
- python setup.py check -rms
- flake8
- pytest -s -v tests/
deploy:
  distributions: sdist bdist_wheel
  provider: pypi
  skip_existing: true
  cleanup: true
  username: __token__
  on:
    tags: true
    branch: master
  password:
    secure: Prak+m96961YikiOVPl+zJuOXekSYOREU3ZGUgKCUlf2tSi31ufrdtNCTGoWSW5b3nxEUxbWuuJEev3gA2VuKYBJ3ZiPOLOFfSIjUtXSydZr7qbgkUa9RvUOjbybhL4L6ajL6sU81KFSMjarlYEBfL/9x+tHg2wNdWvJWMAGgq3DoGm/dGA5brMihKLOdg2HmN/mOF4gPmeOJpaa9aSmjwocbFegogs25aLr6gfmOkYJd/P4kH2M3NP5pcNhrFFVpRCn8ZnrjRJIz8piiaVksAKj0MVb1qmAn9Xt0OKMV1Ulgbeb/iib2y7oKCSb1WwGjejx+SdaqUXwb8TCh5PdfW2Ss+aBGwsLRJ9dhRa7H6QB+wY+++1bOnO+/0TcAv8NhFX45BK1+Ytf7PJmmqHW05+yTMkxlFEHh7x/r6A4tp3k5kwSSGiyrQchmrOWGgSnTC03Taa/v1GuZSBF22rTk31RV63fc3Oq8+GXsufdYt/pCXy+mW4FaL0DzFnP9q6a8ZXz74xPFd9/OpfiiIryU1tNPzBYGe1b6aj0A/uNk1W5OK3EYJe9/zV9ziB64ZykFKam5kpzdr900lkp9UFgw4clLg4Hxeuu5ZsilwAPV7KDu+0mYwrL8jIZaQP/qsUfCfk2LRt8cCIIY5bWMax99Ke8tHjVpOmrkNyY7k3NgMQ=